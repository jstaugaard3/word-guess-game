<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
        <title>Political Hangman</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Gloria+Hallelujah" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    </head>

<body>

<heading>
    <nav class="navbar navbar-light bg-light">
        <span class="navbar-brand mx-auto">State Capital Hang Man!</span>
    </nav>

</heading>

<div class="container">
    <div class="mainContainer">
    <div class="row">
        <div class="col-sm-3">
        </div>
        <div class="col-sm-8">
            <p>The word is : <span id="_wordToGuess"></span></p>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-3">        
        </div>
        <div class="col-sm-8">
            <p>Letters guess so far : <span id="_lettersGuessed"></span></p>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-3">        
        </div>
        <div class="col-sm-8">
            <p>Guesses remaining : <span id="_guessesRemaining"></span></p>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-3">        
        </div>
        <div class="col-sm-8">
            <p>Word uncovered : <span id="_wordUncovered"></span></p>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-3">        
        </div>
        <div class="col-sm-8">
            <p>Wins : <span id="_wins"></span></p>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-3">        
        </div>
        <div class="col-sm-8"> 
            <p>Losses : <span id="_losses"></span></p>
        </div>
    </div>
</div>


</div> <!-- Main Container-->
</div> <!-- Container-->

<script>

var hangMan = {
    randomWord : ["Montgomery","Juneau","Phoenix","LittleRock","Sacramento","Denver","Hartford","Dover","Tallahassee","Atlanta","Honolulu","Boise","Springfield","Indianapolis","DesMoines","Topeka","Frankfort","BatonRouge","Augusta","Annapolis","Boston","Lansing","SaintPaul","Jackson","JeffersonCity","Helena","Lincoln","CarsonCity","Concord","Trenton","SantaFe","Albany","Raleigh","Bismarck","Columbus","OklahomaCity","Salem","Harrisburg","Providence","Columbia","Pierre","Nashville","Austin","SaltLakeCity","Montpelier","Richmond","Olympia","Charleston","Madison","Cheyenne"],
    lettersGuessed : "",
    wins : 0, 
    losses : 0,
    guessesRemaining : 8,
    isLetter: function (inputtxt) {
        console.log(inputtxt);
        console.log(inputtxt.length);     
        var letters = /[A-Za-z]/;   //  /^[A-Za-z]+$/; 
        if(inputtxt.match(letters) && inputtxt.length==1){
            return true;
        }
        else {
            return false;
        }
    }, // End isLetter

    replaceAt: function(string, index, replace) {
        return string.substring(0, index) + replace + string.substring(index + 1);}, //Replace at
    resetGame: function() {
        hangMan.guessesRemaining = 8;
        txtGuessesRemaining.textContent = hangMan.guessesRemaining;
        
        wordToGuess = hangMan.randomWord[Math.floor(Math.random() * hangMan.randomWord.length)];
        wordToGuess = wordToGuess.toLowerCase();
        txtWordToGuess.textContent=wordToGuess; 
        
        txtWins.textContent=hangMan.wins;
        
        txtLosses.textContent=hangMan.losses;
        txtWordUncovered.textContent="";
        
        for (var i=0; i < wordToGuess.length; i++) { 
            txtWordUncovered.textContent=txtWordUncovered.textContent+"_";  } 
        tempWord = txtWordUncovered.textContent;
        
        hangMan.lettersGuessed="";
        txtLettersGuessed.textContent=hangMan.lettersGuessed;
        
        console.log(tempWord);
    }


} // hangMan





// Chose word from possible words and convert to lower case
var wordToGuess = hangMan.randomWord[Math.floor(Math.random() * hangMan.randomWord.length)];
var txtWordToGuess =document.getElementById("_wordToGuess");
var txtLettersGuessed = document.getElementById("_lettersGuessed");
var txtGuessesRemaining = document.getElementById("_guessesRemaining");
var txtWordUncovered = document.getElementById("_wordUncovered");
var txtWins = document.getElementById("_wins");
var txtLosses = document.getElementById("_losses");
var tempWord 



document.addEventListener("DOMContentLoaded", function() {
    hangMan.resetGame();
    });

document.onkeyup = function(event) {
    var UserGuess = event.key;
    if (hangMan.isLetter(UserGuess)){
        UserGuess = UserGuess.toLowerCase();
        
        if ( hangMan.lettersGuessed.search(UserGuess) == -1) {
          
            hangMan.lettersGuessed = hangMan.lettersGuessed + UserGuess;
            txtLettersGuessed.textContent = hangMan.lettersGuessed;  // console.log("Guessed letters: " + hangMan.lettersGuessed);
          
            txtGuessesRemaining.textContent = hangMan.guessesRemaining;

            if(wordToGuess.search(UserGuess) !== -1 ) {  //determine in it target
                               
                for(var i=0; i<wordToGuess.length; i++) {            // loop through and check each character, replace as needed
                    if(wordToGuess.charAt(i)==UserGuess) {
                        tempWord = hangMan.replaceAt(tempWord,i,UserGuess);   
                    }
                }
                txtWordUncovered.textContent=tempWord;
                
                if(tempWord==wordToGuess){
                    hangMan.wins=hangMan.wins+1;
                    txtWins.textContent=hangMan.wins;
                    hangMan.guessesRemaining=0;
                    alert("YOU WIN");
                    hangMan.resetGame();
                 }
            }
            
        else if (hangMan.guessesRemaining !== 0) {
            hangMan.guessesRemaining = hangMan.guessesRemaining-1;
            txtGuessesRemaining.textContent = hangMan.guessesRemaining;
            if (hangMan.guessesRemaining == 0) {
                hangMan.losses=hangMan.losses+1;
                txtLosses.textContent=hangMan.losses;                
                alert("GAME OVER");
                hangMan.resetGame();
            }
        }
     
        } // end 
    }  //end check for is letter
    else {
        console.log("Not a letter");
    }
} // End document.onkeyup...






</script>


</body>









    </html>